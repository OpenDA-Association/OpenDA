# Generated by the Matlab program ddd2dfm on 10:47:52, 24-10-2013
# Deltares, Matlab-generated mdu-file for D-Flow FM

[model]
Program                             = D-Flow FM
Version                             = 1.1.76
AutoStart                           = 0                                  # Autostart simulation after loading MDU or not (0=no, 1=autostart, 2=autostartstop).

[geometry]
NetFile                             = estuary_net.nc                     # *_net.nc
BathymetryFile                      =                                    # *.xyb
WaterLevIniFile                     =                                    # Initial water levels sample file *.xyz
LandBoundaryFile                    =                                    # Only for plotting
ThinDamFile                         =                                    # *_thd.pli, Polyline(s) for tracing thin dams.
ThindykeFile                        =                                    # *._tdk.pli, Polyline(s) x,y,z, z = thin dyke top levels
ProflocFile                         =                                    # *_proflocation.xyz)    x,y,z, z = profile refnumber
ProfdefFile                         =                                    # *_profdefinition.def) definition for all profile nrs
ManholeFile                         =                                    # *...
WaterLevIni                         = 1.0000000                          # Initial water level
Bedlevuni                           = -5.0000000                         # Uniform bottom level, (only if bedlevtype>=3, used at missing z values in netfile
Bedslope                            =                                    # bedslopeination, sets zk = bedlevuni + x*bedslope ans sets zbndz = xbndz*bedslope
BedLevType                          = 3                                  # 1 : Bottom levels at waterlevel cells (=flow nodes), like tiles xz, yz, bl , bob = max(bl left, bl right)
                                                                         # 2 : Bottom levels at velocity points  (=flow links),            xu, yu, blu, bob = blu,    bl = lowest connected link
                                                                         # 3 : Bottom levels at velocity points  (=flow links), using mean network levels xk, yk, zk  bl = lowest connected link
                                                                         # 4 : Bottom levels at velocity points  (=flow links), using min  network levels xk, yk, zk  bl = lowest connected link
                                                                         # 5 : Bottom levels at velocity points  (=flow links), using max  network levels xk, yk, zk  bl = lowest connected link
AngLat                              = 52.00                              # Angle of latitude (deg), 0=no Coriolis
Conveyance2D                        = 3                                  # -1:R=HU,0:R=H, 1:R=A/P, 2:K=analytic-1D conv, 3:K=analytic-2D conv
Sillheightmin                       =                                    # Weir treatment only if both sills larger than this value (m) 
Kmx                                 =                                    # Max nr of vertical layers
Makeorthocenters                    = 0                                  # 1=yes, 0=no switch from circumcentres to orthocentres in geominit
Dcenterinside                       = 1.                                 # limit cell center; 1.0:in cell <-> 0.0:on c/g
PartitionFile                       =                                    # *_part.pol, polyline(s) x,y

[numerics]
CFLMax                              = 0.7                                # Max. Courant nr.
CFLWaveFrac                         = 0.1                                # Wave velocity fraction, total courant vel = u + cflw*wavevelocity
AdvecType                           = 3                                  # Adv type, 0=no, 1= Wenneker, qu-udzt, 2=1, q(uio-u), 3=Perot q(uio-u), 4=Perot q(ui-u), 5=Perot q(ui-u) without itself
Icoriolistype                       =                                    # Coriolis weigthing, icorio 0, 4 or 5 (4 : v = tang. comp of total velocity at u-point, continuity weighted ucnxq, ucnyq = default so far, 5 : 4, scaling down coriolis force below trshcorio)
Limtyphu                            =                                    # Limiter type for waterdepth in continuity eq., 0=no, 1=minmod,2=vanLeer,3=Kooren,4=Monotone Central
Limtypmom                           = 4                                  # Limiter type for cell center advection velocity, 0=no, 1=minmod,2=vanLeer,3=Kooren,4=Monotone Central
Limtypsa                            = 4                                  # Limiter type for salinity transport,           0=no, 1=minmod,2=vanLeer,3=Kooren,4=Monotone Central
Icgsolver                           = 4                                  # Solver type , 1 = sobekGS_OMP, 2 = sobekGS_OMPthreadsafe, 3 = sobekGS, 4 = sobekGS + Saadilud, 5 = parallel/global Saad, 6 = parallel/Petsc, 7 = parallel/GS
Maxdegree                           = 6                                  # Maximum degree in Gauss elimination
Thindykescheme                      =                                    # 0 = no, 1 = compact stencil, 2 = whole tile lifted, full subgrid weir + factor
Thindykecontraction                 =                                    # flow width = flow width*thindykecontraction
Izbndpos                            = 0                                  # Position of z boundary, 0=D3Dflow, 1=on net boundary, 2 = on specified polyline
Jbasqbnddownwindhs                  = 0                                  # 0 : original hu on qbnd, 1 = downwind hs on qbnd
Tlfsmo                              = 0                                  # Fourier smoothing time on waterlevel boundaries (s) 
Slopedrop2D                         = 0.3                                # Apply droplosses only if local bottom slope > Slopedrop2D 
Lincontin                           =                                    # 0 = no, 1 = yes linear continuity
Jaembed1D                           =                                    # 1 : use embedded 1d channels, first run: Operations: Embed 1D channels
Chkadvd                             =                                    # Check advection terms if depth < chkadvdp, => less setbacks 
Teta0                               =                                    # Teta of time integration, 0.5 < Teta < 1d0
Maxitverticalforester               =                                    # 0 : no vertical filter, > 0 = Max nr of iterations

[physics]
UnifFrictCoef                       = 0.02                               # Uniform friction coefficient, 0=no friction
UnifFrictType                       = 1                                  # 0=Chezy, 1=Manning, 2=White Colebrook, 3=z0 etc
Umodlin                             =                                    # linear friction umod, ifrctyp 4,5,6
Vicouv                              = 10.0000000                         # Uniform horizontal eddy viscosity (m2/s)
Dicouv                              = 10.0000000                         # Uniform horizontal eddy diffusivity (m2/s)
Vicoww                              = 0.0000000                          # Uniform vertical eddy viscosity (m2/s)
Dicoww                              = 0.0000000                          # Uniform vertical eddy diffusivity (m2/s)
Smagorinsky                         = 0.                                 # Add Smagorinsky horizontal turbulence : vicu = vicu + ( (Smagorinsky*dx)**2)*S, e.g. 0.1
Elder                               = 0.                                 # Add Elder contribution                : vicu = vicu + Elder*kappa*ustar*H/6),   e.g. 1.0
irov                                = 0                                  # 0=free slip, 1 = partial slip using wall_ks
wall_ks                             = 0.                                 # Nikuradse roughness for side walls, wall_z0=wall_ks/30
TidalForcing                        = 1                                  # Tidal forcing (0=no, 1=yes) (only for jsferic == 1)
Salinity                            = 0                                  # Include salinity, (0=no, 1=yes)
InitialSalinity                     = 31.0000000                         # Initial salinity concentration (ppt)
Rhomean                             = 1000.0000000                       # Average water density (kg/m3)

[wind]
ICdtyp                              = 3                                  # ( ), Cd = const, 2=S&B 2 breakpoints, 3= S&B 3 breakpoints
Cdbreakpoints                       = 0.0006300 0.0072300                # ( ),   e.g. 0.00063  0.00723
Windspeedbreakpoints                = 0.0000000 100.0000000              # (m/s), e.g. 0.0      100.0
Rhoair                              = 1.0000000                          # Air density (kg/m3)
PavBnd                              = 101325.0000000                     # Average air Pressure on open boundaries, (N/m2), only applied if value > 0
Gapres                              = 101325.0000000                     # Global Atmospheric Pressure, (N/m2)

[time]
RefDate                             = 19910101                           # Reference date (yyyymmdd)
Tunit                               = M                                  # Time units in MDU (H, M or S)
DtUser                              = 600.0000000                        # User timestep in seconds (interval for external forcing update & his/map output)
DtMax                               = 600.0000000                        # Max timestep in seconds
DtInit                              = 1.                                 # Initial timestep in seconds
AutoTimestep                        = 1                                  # Use CFL timestep limit or not (1/0)
TStart                              = 0.0000000e+00                      # Start time w.r.t. RefDate (in TUnit)
TStop                               = 5760.0                             # 4 days (in TUnit)
#TStop                               = 43200.0                            # 30 days

[restart]
RestartFile                         =                                    # Restart file, only map, hence: *_map.nc
RestartDateTime                     = 19910101000000                     # Restart time (yyyymmddhhmmss)

[external forcing]
ExtForceFile                        = estuary.ext                        # *.ext

[output]
OutputDir                           =                                    # Output directory of map-, his-, rst-, dat- and timings-files, default: DFM_OUTPUT_<modelname>. Set to . for no dir/current dir.
ObsFile                             = estuary_obs.xyn                    # *.xyn Coords+name of observation stations.
CrsFile                             =                                    # *_crs.pli Polyline(s) definining cross section(s).
HisFile                             = estuary_his.nc                     # *_his.nc History file in NetCDF format.
HisInterval                         = 3600.0                             # History output, given as "interval" "start period" "end period" (s)
XLSInterval                         =                                    # Interval (s) between XLS history
FlowGeomFile                        =                                    # *_flowgeom.nc Flow geometry file in NetCDF format.
MapFile                             = estuary_map.nc                     # *_map.nc Map file in NetCDF format.
MapInterval                         = 3600.0000000                       # Map file output, given as "interval" "start period" "end period" (s)
MapFormat                           = 1                                  # Map file format, 1: netCDF, 2: Tecplot, 3: netCFD and Tecplot
RstInterval                         =                                    # Interval (s) between map file outputs
S1incinterval                       =                                    # Interval (m) in incremental file for waterlevels S1
WaqFileBase                         =                                    # Basename (without extension) for all Delwaq files to be written.
WaqInterval                         =                                    # Interval (in s) between Delwaq file outputs
StatsInterval                       = 3600.                              # Interval (in s) between simulation statistics output.
WriteBalancefile                    = 0                                  # Write Balancefile, 1=yes, 0=no
SnapshotDir                         =                                    # Directory where snapshots/screendumps are saved.
TimingsInterval                     =                                    # Timings output interval
TimeSplitInterval                   = 0X                                 # Time splitting interval, after which a new output file is started. value+unit, e.g. '1 M', valid units: Y,M,D,h,m,s.
MapOutputTimeVector                 =                                    # File (.mpt) containing fixed map output times (s) w.r.t. RefDate
FullGridOutput                      = 0                                  # 0:compact, 1:full time-varying grid data

