=========================================
Developing the Java source without an IDE
=========================================


On this page, an explanation is given about the development of the Java
source without using an IDE.

To build the OpenDA software, a command-line tool called
`Ant <https://en.wikipedia.org/wiki/Apache_Ant>`__ is used. Ant is
similar to ``make``, but written in Java, such that it is portable
between different platforms. Linux users can easily install Ant using
the package manager. Windows users can download the software
`here <http://ant.apache.org/bindownload.cgi>`__. Before installing Ant,
make sure that the `Java Development
Kit <https://openda-association.github.io/wiki/java_source>`__ is
installed.

When Ant is installed, the complete source code can be built by simply
typing ``./ci_build.sh`` (Linux) or ``ant build`` in the main
``<path_to_openda_source>`` (they do the same). Individual components
(``core``, ``models``, ``model_*``, ``observers``, or ``algorithms``)
can be compiled using ``ant build`` in the respective module directory.

If one of the XML schema files (``.xsd``) has changed, then it is
necessary to run the `Castor
framework <https://en.wikipedia.org/wiki/Castor_(framework)>`__ to
convert XML files to Java source code. More information about these
configuration files can be found in the `introduction to
OpenDA <https://openda-association.github.io/wiki/introduction_openda>`__.
Castor is run by executing ``./ci_build_castor.sh`` (Linux), or by
visiting all directories containing a ``build_castor.xml`` file and
executing ``ant -f build_castor.xml``. After this step, the standard Ant
build should again be performed.

To remove the files generated by a build, you can use ``ant clean`` on
the command line. From within a module directory, this command will
remove the ``bin``, ``build`` and ``javadoc`` directories, and the
``MANIFEST.MF`` file (this file contains meta information about the used
JDK version etc.). It does not affect other modules or the folder
``bin`` in the OpenDA main directory. Executing the command line
``ant clean`` from the OpenDA main directory will delete the folders
``bin``, ``doc``, and ``xmlSchemas`` in the main directory, as well as
remove all modulesâ€™ generated files. Note: to be able to delete files,
they cannot be in use (obviously), so close them first.

In each module folder (``core``, ``models``, ``model_*``, ``observers``,
and ``algorithms``), unit tests are available to determine whether that
particular part of the software is fit for use. The unit tests can be
found in the folder ``<path_to_module>/java/test/``. The unit tests are
run by executing an ``ant test`` script in the main OpenDA directory
(see the ``build.xml`` for different versions, the original ``ant test``
should work). Separate tests are better run using
`IntelIJ <https://openda-association.github.io/wiki/IntelIJ>`__.
